# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Äî Contract Validator Agent

–û—Ç –Ω—É–ª—è –¥–æ –ø–µ—Ä–≤–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞ 6 —à–∞–≥–æ–≤.

---

## –®–∞–≥ 1 ‚Äî –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏

```bash
chmod +x scripts/*.sh
```

> –ë–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –æ—à–∏–±–∫–∞ `Permission denied`.

> **Windows:** `chmod` –Ω–µ –Ω—É–∂–µ–Ω ‚Äî Claude Code –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã —á–µ—Ä–µ–∑ `bash scripts/...` –Ω–∞–ø—Ä—è–º—É—é.
> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `jq` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `choco install jq` –∏–ª–∏ `scoop install jq`.
> –°–∫—Ä–∏–ø—Ç—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å Git Bash, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Claude Code –Ω–∞ Windows.

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å acorn –¥–ª—è AST-–ø–∞—Ä—Å–∏–Ω–≥–∞:**
```bash
npm install --save-dev acorn
```
> –ë–µ–∑ acorn –∞–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç regex-fallback. –° acorn ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π AST-–∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –Ω–æ–¥ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é ~100%.

---

## –®–∞–≥ 2 ‚Äî –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp .env.example .env
```

–û—Ç–∫—Ä–æ–π `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏:
```env
N8N_BASE_URL=https://your-n8n-instance.com   # –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –∞–≥–µ–Ω—Ç–∞
N8N_API_URL=https://your-n8n-instance.com    # –¥–ª—è n8n-mcp (–¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å!)
N8N_API_KEY=your-api-key-here
```

> **–î–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ URL:** `N8N_BASE_URL` –∏—Å–ø–æ–ª—å–∑—É—é—Ç bash-—Å–∫—Ä–∏–ø—Ç—ã –∞–≥–µ–Ω—Ç–∞, `N8N_API_URL` ‚Äî –ø–∞–∫–µ—Ç n8n-mcp. –ó–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å.

> –ì–¥–µ –≤–∑—è—Ç—å API Key: n8n ‚Üí Settings ‚Üí API ‚Üí Create API Key

---

## –®–∞–≥ 3 ‚Äî –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.mcp.json`

```bash
cp .mcp.json.example .mcp.json
```

–û—Ç–∫—Ä–æ–π `.mcp.json` –∏ –≤—Å—Ç–∞–≤—å —Ç–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```json
"N8N_API_URL": "https://your-n8n-instance.com",
"N8N_API_KEY": "your-api-key-here"
```

---

## –®–∞–≥ 4 ‚Äî –î–æ–±–∞–≤–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä –≤ Claude Code

```bash
claude mcp add n8n-mcp \
  -e MCP_MODE=stdio \
  -e LOG_LEVEL=error \
  -e DISABLE_CONSOLE_OUTPUT=true \
  -e N8N_API_URL=$(grep N8N_BASE_URL .env | cut -d= -f2) \
  -e N8N_API_KEY=$(grep N8N_API_KEY .env | cut -d= -f2) \
  -- npx n8n-mcp
```

---

## –®–∞–≥ 5 ‚Äî –ó–∞–ø—É—Å—Ç–∏—Ç—å Claude Code –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å MCP

```bash
claude
```

–í–Ω—É—Ç—Ä–∏ Claude Code –ø—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```
/mcp
```

–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è `n8n-mcp` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `connected`.

---

## –®–∞–≥ 6 ‚Äî –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é

–ü–µ—Ä–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:
```
/validate YOUR_WORKFLOW_ID
```

ID workflow –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ URL n8n: `https://your-n8n.com/workflow/WORKFLOW_ID`

–î–ª—è —Ç–µ—Å—Ç–∞ **–±–µ–∑ n8n instance** (–æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º):
```
/validate --file ./test/sample-workflow.json
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç

Claude –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç workflow –∏ –≤—ã–≤–µ–¥–µ—Ç –æ—Ç—á—ë—Ç:
- üî¥ CRITICAL ‚Äî –ª–æ–º–∞—é—â–∏–µ –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- üü° WARNING ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚ÑπÔ∏è INFO ‚Äî –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è
- ‚ùì UNCERTAIN ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è, —Ç—Ä–µ–±—É—é—â–∏–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

–î–ª—è –∫–∞–∂–¥–æ–π CRITICAL-–æ—à–∏–±–∫–∏ –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤–∞—à–µ–≥–æ —è–≤–Ω–æ–≥–æ `–¥–∞`.

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|---------|-----------|
| `/validate all` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ workflow –≤ n8n |
| `/diff {id}` | –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–∞–ø—É—Å–∫–æ–º |
| `/fix` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [CLAUDE.md](./CLAUDE.md)  
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP: [MCP_INSTALL.md](./MCP_INSTALL.md)  
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–∏–ª–ª–æ–≤: [SKILLS_INSTALL.md](./SKILLS_INSTALL.md)
